# Chapter03. 변수와 데이터 입력

## 변수

- 프로그램에서 데이터를 메모리에 저장할 때, 우선 <b>변수 선언</b>을 통해 메모리에 저장 공간을 확보한다.

  - 변수는 데이터를 저장하는 공간이다.

- 변수 선언 방법

  - `자료형 변수명;` (예: `int a;`)

  - 변수명은 메모리에 붙이는 임시 주소 같은 개념

  - 이렇게 변수를 선언하면 메모리에 저장 공간이 생긴다. 이때 그 저장 공간에는 어떤 값이 들어있는지 알 수 없다. 왜냐하면 메모리 공간은 재활용되기 때문이다. 어떤 프로그램이 실행되다가 종료되면, 그 프로그램에서 사용하던 메모리 공간을 반납하게 된다. 그리고 새로 실행되는 프로그램이 그 공간을 사용하게 되는데 이전에 그 공간을 사용했던 프로그램이 거기에 어떤 값을 남겨 놓았는지는 알 수 없다. 이렇게 남겨진 값은 새 프로그램에서는 아무런 의미가 없는 <b>쓰레기 값(garbage value)</b>이다. 쓰레기 값으로 인해 프로그램에 오류가 발생할 수 있으므로 변수를 선언한 뒤에는 초기화하는 과정이 꼭 필요하다.

  - 변수를 선언함으로써 메모리에 일정한 크기의 저장 공간이 생긴 뒤에 이 저장 공간에 데이터를 넣으려면 대입 연산자(`=`)를 사용한다.

    - 대입 연산자의 왼쪽에는 저장 공간으로 사용하려는 변수를 두고, 오른쪽에는 해당 변수에 저장하려는 값을 둔다. 이때 대입 연산자의 오른쪽에도 변수가 올 수 있으나 이때는 왼쪽에 올 때와 달리 값으로 사용되며, 이 변수에 저장되어있는 값이 복사되어 왼쪽 변수에 저장된다. 이렇게 대입 연산자를 기준으로 왼쪽에 오는 변수는 l-value로, 오른쪽에 오는 변수는 r-value로 구분하여 부르기도 한다.

- 변수는 변수에 저장되는 데이터의 종류에 따라 다양한 형태를 갖는데 이를 <b>자료형(data type)</b>이라고 한다. 자료형은 기본적으로 정수형과 실수형으로 나눈다.

- 정수 자료형

  - 정수형은 메모리 저장 공간의 크기에 따라 다음과 같이 5가지로 구분된다. (바이트는 내 실행 환경에서 돌아가는 컴파일러 기준 - [참고]())

    |자료형|크기(Byte)|
    |------|---|
    |`char`|1|
    |`short`|2|
    |`int`|4|
    |`long`|8|
    |`long long`|8|

    - 각 자료형의 크기는 컴파일러 및 버전에 따라 다를 수 있음.(만약 현재 사용하는 컴파일러에서 구현된 자료형의 바이트 크기가 궁금하면 `sizeof` 연산자로 확인할 수 있음.) 아무튼 기본적인 구현 기준은 다음과 같음.

      ```
      char <= short <= int <= long <= long long
      ```

  - 자료형의 크기가 클수록 더 많은 범위의 값을 저장할 수 있음. 범위 구하는 공식: -2<sup>비트 수 - 1</sup> ~ 2<sup>비트 수 - 1</sup>-1

  - `char`형 변수에는 주로 문자를 저장

    - `char`형 변수 출력할 때 `%c` 변환 문자를 사용하면 해당 변수에 저장된 값(예: `65`)을 아스키 코드 값으로 해석해서 그 값에 해당하는 문자를 출력하고, `%d` 변환 문자를 사용하면 해당 변수에 저장된 값(예: `'A'`)을 정수로 출력한다.

  - 이렇게 다양한 정수형 중에서, 언제 어떤 자료형을 사용하면 좋을까?

    - 방법1) 특별한 경우가 아니라면 정수형은 `int`를 써라.

      - `int`형은 연산의 기본 단위로, 컴퓨터에서 가장 빠르게 연산됨.

      - `short`형의 경우 메모리는 적게 사용하나, 연산 과정에서 `int`형으로 변환되기 때문에 실행 속도가 느려질 수 있다. 반면 `long long`형의 경우에는 보다 큰 범위의 값을 저장할 순 있지만 메모리 낭비가 큼.

    - 방법2) `long`형은 큰 값 저장할 때 써라.

- unsigned 정수 자료형

  - 정수형은 보통 양수/음수 모두 저장하는데, 양수만 저장한다면 두 배 더 넓은 범위의 값을 저장할 수 있다. 따라서 정수형을 양수 전용으로 쓰고 싶다면 `unsigned`를 사용하면 좋다.

  - 근데 `unsigned` 자료형을 출력할 땐, 변환 문자 사용에 주의해야 한다. 변환 문자에 따라서 예상과 다른 값이 출력될 수도 있다.

    - 변환 문자에 따라 `printf` 함수가 데이터를 해석해서 보여주는 방법이 달라지기 때문에, 어떤 값이 메모리에 저장된 형태가 같더라도 변환 문자에 따라 달리 출력될 수 있는 것이다.

    - `%d` 변환 문자는 가장 왼쪽 비트를 부호 비트로 간주하여 10진수로 바꿔 출력하는 반면, `%u` 변환 문자는 부호 비트를 고려하지 않고 모든 비트를 10진수로 바꿔 출력한다.

    - 예시

      ```c
      unsigned int test = 4294967295;
      printf("%d\n", test); // -1
      test = -1;
      printf("%u\n", test); // 4294967295
      printf("%zu\n", sizeof(test)); // 4
      ```

  - 이와 같이 `unsigned`형 변수에도 음수를 저장하고 출력할 수 있긴 하나, 연산 및 대소 비교 시에는 부호 비트를 고려하지 않고 항상 양수로 처리해버리기 때문에 <b>양수 저장 용도로만 사용하고, 출력할 땐 `%u` 변환 문자를 사용하기를 권한다</b>고 한다.

- 실수 자료형

  - 실수는 데이터를 구현하는 방법이 정수와 다르기 때문에 별도의 자료형을 사용한다.

  - `float`, `double`, `long double` 이렇게 세 가지가 있는데 각각 유효 숫자 개수가 다르다. (유효 숫자 많을수록 더 정확한 값을 표현할 수 있다고 한다.)

    |자료형|유효 숫자|
    |------|---|
    |`float`|7|
    |`double`|15|
    |`long double`|15 이상|

  - 실수 표현은 오차가 있으므로, 자료형에 따라 유효 숫자 범위 내에서 사용해야 한다. 유효 숫자 개수 고려하는 게 어렵다면 다음 두 가지 방법을 따를 것:

    - 방법1) 정수형을 기본으로 사용하고, 실수형은 꼭 필요할 때만 사용하기

    - 방법2) 실수형을 사용해야 한다면 `double`형을 기본으로 사용하기

      - `long double`형의 경우 컴파일러 마다 크기가 달라서 코드의 호환성을 보장할 수 없으므로 주의해서 사용해야 하기 때문 (제꺼 컴파일러는 8 바이트로 처리하는 듯)

- 문자열 저장

  - 문자열은 `char`형을 배열 형태로 만들어 저장한다.

    ```c
    char 배열명[문자열길이+1] = 문자열;
    ```

    - 이때 배열의 길이를 `문자열길이+1`로 잡는 이유: 컴파일러가 문자열의 끝에 `\0`(널 문자)를 자동으로 추가하기 때문! (널 문자는 <b>문자열의 끝을 표시</b>하는 특별한 문자)

  - `char` 배열은 문자열을 저장하는 변수의 역할을 하며, `%s`로 출력한다.

  - 배열은 선언된 이후에 대입 연산자로 문자열을 입력할 수 없다.

    ```c
    char user[10] = "yein";

    user = "gildong"; (X)
    ```

    - 대입 연산자 왼쪽에는 변수(l-value)가 와야 하는데, 위 코드에서 `user`은 배열로서 변수가 아니므로 대입 연산자 왼쪽에 올 수 없다.

    - 따라서 `char` 배열에 새로운 문자열을 저장하려면 위와 같이 해서는 안되고, `strcpy` 함수를 사용해야 한다. `strcyp`는 string copy라는 의미로, 문자열을 복사한다.

      ```c
      #include <string.h>

      (중략)

      strcpy(user, "gildong");
      ```

- const를 사용한 변수

  - 일반적인 변수와 달리, `const`를 사용한 변수는 초기화된 값을 바꿀 수 없다. (`const`로 변수를 상수<b>처럼</b> 사용하는 케이스. 즉, 엄연한 변수다.)

    ```c
    const double tax_rate = 0.12;
    ```

    - `const`를 사용할 땐 반드시 선언과 동시에 초기화를 해야 한다.

    - 이렇게 변수에 `const`를 사용하면 복잡한 값(예: 세율)을 의미 있는 이름(예: `tax_rate`)으로 쉽게 쓸 수 있으며, 값이 변하지 않음을 보장 받을 수 있다는 이점이 있다.

- 예약어와 식별자

  - 예약어(reserved word) : 컴파일러가 사용법을 지정한 단어

  - 식별자(identifier) : 사용자가 필요에 따라 지정하는 단어

## 데이터 입력

- ..🤭