# Chapter05. 선택문(if, switch ~ case)

- 제어문의 종류

  - 선택문(조건문): `if`, `switch ~ case`

  - 반복문: `while`, `for`, `do ~ while`

  - 분기문: `break`, `continue`, `goto`, `return`

- 이번 장에선 조건문에 대해 배운다.

## if문

### if문의 기본 형식

- if문: 조건식 + 실행문

- 실행문이 한 문장일 땐 중괄호를 삭제할 수 있으나, 가독성을 위해 중괄호 및 줄여쓰기를 사용하는 것이 좋다. (어떤 방식이든 한 가지 방식으로 통일하는 게 좋다.)

### if ~ else문

(다른 언어와 마찬가지..)

### if ~ else if ~ else문

- if ~ else if ~ else문 사용 시 주의해야 할 점은, 조건식을 차례로 검사하기 때문에 이전 조건의 결과가 반영된다는 것이다. 이로 인해 조건식의 순서를 어떻게 작성하는지에 따라 불필요한 조건 검사를 더 많이하는 비효율적인 코드를 작성할 수도 있다.

- 참이 될 가능성이 많은 조건식을 먼저 사용함으로써 조건식 검사 횟수를 줄일 수 있다.

```c
int score = 70;
  char grade;

  if (score <= 40)
  {
    grade = 'F';
  }
  else if ((score > 40) && (score <= 70))
  {
    grade = 'B';
  }
  else
  {
    grade = 'A';
  }

  printf("당신의 등급은 %c입니다..", grade);
  // 당신의 등급은 B입니다..
```

- 예를 들어 이 코드에서 두 번째 조건식 `(score > 40) && (score <= 70)`에서 `score > 40`는 첫 번째 조건식에서 이미 유효한 것으로 검증된 부분에 대해 중복적으로 검사를 하고 있다.

## if문 활용과 switch ~ case문

- 여러 조건 중에 선행 조건이 있을 경우에는 if문을 중첩하여 사용한다.

- 케이스가 많을 경우에는 switch ~ case문이 더 편리할 수 있다. (범위 검사에는 적합하지 않다.)

### if문 중첩

- if ~ else문은 전체를 한 문장으로 취급한다는 사실 기억하기

- 어떤 조건을 검사하기 전에 선행조건이 있을 경우에 if문을 중첩하여 사용하는데, 이렇게 하는 이유는 <b>선행조건이 있으면 불필요한 조건 검사를 하지 않기 때문</b>이다.

- 하지만 선행조건이 없더라도 <b>실행 효율을 위해</b> 의도적으로 중첩해서 사용하는 경우가 있다.

  - 분할 정복 기법

  - 비교 항목이 많을 경우 각각의 항목에 대해 하나씩 검사하게 되면 조건 검사 횟수가 너무 많아질 수 있다. 이때 pivot을 기준으로 일단 두 개의 범위로 나눈 뒤(외부 if문), 그 범위에 해당하는 비교 항목들에 대해서만 검사(내부 if문)하는 방식을 사용하면 평균 조건 검사 횟수를 줄여 실행 시간을 줄일 수 있어서 도움이 된다고 한다.

  - 이 방식은 방금 말한 장점도 있는 반면에 코드를 독해하기 어렵게 만들 수 있어서 주의해서 사용해야 한다.

### switch ~ case문

```c
switch (조건식)
  {
  case /* constant-expression */:
    /* code */
    break;
  
  default:
    break;
}
```

- 필수 규칙

  1. 조건식은 정수식만 사용한다.

    - 정수식에는 정수형 상수 또는 변수를 쓸 수 있다. 수식을 쓰려면 결과값이 정수여야 한다.

    - `case`에 사용하는 상수식(constant expression)도 정수만 가능하다.

    - 즉 switch ~ case문은 정수 값에 따라 실행 문장을 결정한다.

  2. 기본적으로 `case`는 `break`를 포함한다.

    - 의도적으로 생략해도 되지만 잘못 작성한 코드라고 오해 받을 수 있다.
