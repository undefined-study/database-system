# Chapter09. ν¬μΈν„°

> ν¬μΈν„°λ” μ–΄λ µμ§€ μ•λ‹¤(κ³  ν•λ‹¤).. ν—·κ°λ¦΄ λΏ..

## ν¬μΈν„°μ κΈ°λ³Έ κ°λ…

### λ©”λ¨λ¦¬μ μ£Όμ†

- μ–΄λ–¤ ν”„λ΅κ·Έλ¨μ΄ μ‚¬μ©ν•λ” λ©”λ¨λ¦¬μ μ„μΉλ” μ£Όμ† κ°’μΌλ΅ μ‹λ³„ν•  μ μλ‹¤.

  - μ£Όμ† κ°’μ€ λ°”μ΄νΈ λ‹¨μ„λ΅ κµ¬λ¶„λλ‹¤.

  - μ£Όμ† κ°’μ€ 0λ¶€ν„° μ‹μ‘ν•κ³ , λ°”μ΄νΈ λ‹¨μ„λ΅ 1μ”© μ¦κ°€ν•λ‹¤.

### μ£Όμ† μ—°μ‚°μ : `&`

- μ£Όμ†: λ³€μκ°€ ν• λ‹Ήλ λ©”λ¨λ¦¬ κ³µκ°„μ μ‹μ‘ μ£Όμ†

- μ£Όμ†λ” μ£Όμ† μ—°μ‚°μ(`&`)λ¥Ό μ‚¬μ©ν•΄μ„ κµ¬ν•λ‹¤.

  ```c
  int a;
  printf ("aμ μ£Όμ†: %p\n", &a); // aμ μ£Όμ†: 0x16b193148
  ```

  - λ‹¨ν•­ μ—°μ‚°μ

  - ν”Όμ—°μ‚°μλ΅λ” λ³€μλ§ μ‚¬μ©ν•  μ μμ.

  - μ£Όμ†λ” λ³΄ν†µ 16μ§„μλ΅ ν‘κΈ°ν•¨.

  - μ£Όμ† μ „μ© λ³€ν™ λ¬Έμ: `%p`

### ν¬μΈν„°μ™€ κ°„μ ‘ μ°Έμ΅° μ—°μ‚°μ : `*`

- λ©”λ¨λ¦¬ μ£Όμ†λ” λ§¤λ² μ£Όμ† μ—°μ‚°μ„ μν–‰ν•΄μ„ μ‚¬μ©ν•λ” κ²ƒ λ³΄λ‹¤λ”, ν• λ² κµ¬ν• μ£Όμ†λ¥Ό λ³€μμ— μ €μ¥ν•΄μ„ μ‚¬μ©ν•λ©΄ νΈλ¦¬

  - μ΄λ• μ‚¬μ©ν•λ” λ³€μ(μ¦‰, μ£Όμ† κ°’μ„ μ €μ¥ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” λ³€μ)κ°€ λ°”λ΅ <b>ν¬μΈν„°</b>

- ν¬μΈν„°λ„ μΌλ°μ μΈ λ³€μμ²λΌ μ„ μ–Έν•κ³  μ‚¬μ©ν•λ©΄ λλ”λ°, μ„ μ–Έν•  λ• λ³€μ μ•μ— `*`λ¥Ό λ¶™μ—¬μ¤μ•Ό ν•¨.

```c
int a;      // μΌλ° λ³€μ μ„ μ–Έ
int *pa;    // ν¬μΈν„° μ„ μ–Έ

pa = &a;    // ν¬μΈν„°μ— aμ μ£Όμ† λ€μ…
*pa = 10;   // ν¬μΈν„°λ΅ λ³€μ aμ— 10μ„ λ€μ…

printf ("λ³€μλ…μΌλ΅ a κ°’ μ¶λ ¥ν•κΈ°: %d\n", a);   // 10
printf ("ν¬μΈν„°λ΅ a κ°’ μ¶λ ¥ν•κΈ°: %d\n", *pa);   // 10
```

<img src="../images/img10.png" alt="μ£Όμ† μ €μ¥ κ³µκ°„" width=400 />

- ν¬μΈν„° μ„ μ–Έ λ°©λ²•

  ```c
  μλ£ν• *λ³€μλ…;
  ```
  (`*`λ” ν¬μΈν„°μ„μ„ ν‘μ‹ν•λ” κΈ°νΈ)

- μ΄μ™€ κ°™μ΄ ν¬μΈν„°κ°€ μ–΄λ–¤ λ³€μμ μ£Όμ†λ¥Ό μ €μ¥ν• κ²½μ° 'κ°€λ¦¬ν‚¨λ‹¤'λΌκ³  ν•λ‹¤.

- ν¬μΈν„°κ°€ μ–΄λ–¤ λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ©΄, κ·Έ ν¬μΈν„°λ΅ κ·Έ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ³€μλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

  - μ¦‰ ν¬μΈν„° `pa`λ΅ `a`λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

  - μ΄λ ‡κ² μ‚¬μ©ν•λ ¤λ©΄ κ°„μ ‘ μ°Έμ΅° μ—°μ‚°μ(`*`)λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.

### μ—¬λ¬ κ°€μ§€ ν¬μΈν„° μ‚¬μ©ν•΄λ³΄κΈ°

- ν¬μΈν„°κ°€ μ–΄λ–¤ λ³€μλ¥Ό κ°€λ¦¬ν‚¤κ² λλ©΄, κ·Έ μ΄ν›„μ—λ” κ°„μ ‘ μ°Έμ΅° μ—°μ‚°μ(`*`)λ¥Ό ν†µν•΄ ν•΄λ‹Ή λ³€μλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

- μΌλ° λ³€μλ¥Ό κ·Έ λ³€μλ…μΌλ΅λ„ μ‚¬μ©ν•  μ μκ³ , κ·Έ λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ¥Ό κ°„μ ‘ μ°Έμ΅°ν•μ—¬ μ‚¬μ©ν•  μλ„ μλ‹¤.

### `const`λ¥Ό μ‚¬μ©ν• ν¬μΈν„°

> μ–΄λ¨μΌ€ ν•λ©΄ μ• κΉλ¨Ήμ„κΉ? β†’ constκ°€ λ„κµ΄ μμ‹ν•λ”μ§€μ— λ”°λΌ κµ¬λ¶„ν•μ!

1. `const` μλ£ν•* ν¬μΈν„°μ΄λ¦„

  - `const`κ°€ β€κ°€λ¦¬ν‚¤κ³  μλ” λ¶€λ¶„β€μ„ μμ‹ν•κ³  μλ‹¤!? β†’ μ›λ³Έμ„ κ°€λ¦¬ν‚¤λ” κ²ƒμ„ μƒμβ€ν™”β€

  - μ›λ³Έμ„ μƒμλ΅ λ§λ“ λ‹¤λ” μλ―Έκ°€ μ•„λ‹κ³ , ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ³€μλ¥Ό κ·Έ ν¬μΈν„°λ¥Ό κ°„μ ‘ μ°Έμ΅°ν•΄μ„ λ°”κΎΈλ” κ²ƒμ΄ λ¶κ°€λ¥ν•λ‹¤λ” μλ―Έ

    ```c
    // μ¦‰ μ΄κ² μ•λ¨
    int a = 10;
    const int *pa = &a;
    *pa = 20; // ! μ—λ¬
    ```

  - μ–Έμ μ“ΈκΉ??

    - λ°”λ€λ©΄ μ•λλ” κ°’μ μ£Όμ† κ°’μ„ μΈμλ΅ λ°›μ„ λ• (λ¬Έμμ—΄ μƒμ, κµ¬μ΅°μ²΄ λ“±.. νΉν κµ¬μ΅°μ²΄μ κ²½μ°μ—λ” ν¬κΈ°κ°€ ν¬κΈ° λ•λ¬Έμ—, λ³µμ‚¬ν•΄μ„ μ“°λ” κ²ƒλ³΄λ‹¤ μ£Όμ† κ°’μ„ μ „λ‹¬ν•΄μ„ μ§μ ‘ μ ‘κ·Όν•λ„λ΅ ν•λ” νΈμ΄ ν¨μ¨μ μ΄λΌκ³  ν•λ‹¤.)

2. μλ£ν•* `const` ν¬μΈν„°μ΄λ¦„

  - constλ” ν¬μΈν„° μ΄λ¦„(μ¦‰ λ³€μ) μμ²΄λ¥Ό μμ‹ν•κ³  μλ‹¤!? β†’ ν¬μΈν„° μμ²΄λ¥Ό μƒμν™”

  - μ¦‰ ν¬μΈν„°μ— λ‹¤λ¥Έ κ°’μ„ μ¬ν• λ‹Ήν•  μ μ—†λ‹¤.

3. `const` μλ£ν•* `const` ν¬μΈν„°μ΄λ¦„ = &λ³€μλ…;

  - μ΄κΈ°ν™” μ‹ κ°€λ¦¬ν‚¨ λ€μƒλ§ κ°€λ¦¬ν‚΄ + κ°€λ¦¬ν‚¤λ” μ›λ³Έμ„ κ°„μ ‘ μ°Έμ΅°λ΅ μμ •ν•  μ μ—†μ.

## ν¬μΈν„° μ™„μ „ μ •λ³µμ„ μ„ν• ν¬μΈν„° μ΄ν•΄ν•κΈ°

> <b>ν¬μΈν„°μ νΉμ§•</b>
> 
> - μ£Όμ†λ¥Ό μ €μ¥ν•λ” μ©λ„λ΅ μ“°μΈλ‹¤.
> - ν¬μΈν„°λΌλ¦¬ λ€μ…μ΄ κ°€λ¥ν•λ‹¤.
> - μΌλ° λ³€μμ™€ λ‹¬λ¦¬, λ€μ… μ—°μ‚°μ— λ€ν• κΈ°μ¤€μ΄ μ—„κ²©ν•λ‹¤.
### μ£Όμ†μ™€ ν¬μΈν„°μ μ°¨μ΄

- μ£Όμ† vs ν¬μΈν„°

  - μ£Όμ†: λ³€μμ— ν• λ‹Ήλ λ©”λ¨λ¦¬ μ €μ¥ κ³µκ°„μ μ‹μ‘ μ£Όμ† κ°’ μμ²΄ π‘‰ μƒμ

  - ν¬μΈν„°: μ£Όμ† κ°’μ„ μ €μ¥ν•λ” **λ λ‹¤λ¥Έ λ©”λ¨λ¦¬ κ³µκ°„** π‘‰ λ³€μ

- μ¦‰, ν¬μΈν„°(=μ–΄λ–¤ λ©”λ¨λ¦¬ κ³µκ°„)μ— λ‹¤λ¥Έ κ°’μ„ λ€μ…ν•μ—¬ κ·Έ κ°’μ„ λ°”κΏ€ μ μλ‹¤.

- λν• λ‘ μ΄μƒμ ν¬μΈν„°κ°€ κ°™μ€ μ£Όμ†λ¥Ό μ €μ¥ν•λ” μΌλ„ κ°€λ¥ν•λ‹¤.

### μ£Όμ†μ™€ ν¬μΈν„°μ ν¬κΈ°

- λ¨λ“  μ£Όμ† κ°’κ³Ό, μ£Όμ† κ°’μ„ μ €μ¥ν•λ” λ¨λ“  ν¬μΈν„°λ”, κ°€λ¦¬ν‚¤λ” μλ£ν•μ— κ΄€κ³„ μ—†μ΄ λ ν¬κΈ°κ°€ λ™μΌν•λ‹¤.

  ```c
  char ch;
  int in;
  double db;

  char *pc = &ch;
  int *pi = &in;
  double *pd = &db;

  printf("charν• λ³€μ ν¬κΈ°: %lu\n", sizeof(ch));
  printf("intν• λ³€μ ν¬κΈ°: %lu\n", sizeof(in));
  printf("doubleν• λ³€μ ν¬κΈ°: %lu\n", sizeof(db));
  /*
    * charν• λ³€μ ν¬κΈ°: 1
    * intν• λ³€μ ν¬κΈ°: 4
    * doubleν• λ³€μ ν¬κΈ°: 8
  */

  printf("charν• λ³€μμ μ£Όμ† ν¬κΈ°: %lu\n", sizeof(&ch));
  printf("intν• λ³€μμ μ£Όμ† ν¬κΈ°: %lu\n", sizeof(&in));
  printf("doubleν• λ³€μμ μ£Όμ† ν¬κΈ°: %lu\n", sizeof(&db));
  /*
    * charν• λ³€μμ μ£Όμ† ν¬κΈ°: 8
    * intν• λ³€μμ μ£Όμ† ν¬κΈ°: 8
    * doubleν• λ³€μμ μ£Όμ† ν¬κΈ°: 8
  */

  printf("char * ν¬μΈν„°μ ν¬κΈ°: %lu\n", sizeof(pc));
  printf("int * ν¬μΈν„°μ ν¬κΈ°: %lu\n", sizeof(pi));
  printf("double * ν¬μΈν„°μ ν¬κΈ°: %lu\n", sizeof(pd));

  /*
    * char * ν¬μΈν„°μ ν¬κΈ°: 8
    * int * ν¬μΈν„°μ ν¬κΈ°: 8
    * double * ν¬μΈν„°μ ν¬κΈ°: 8
  */
  ```

- μ¦‰, λ³€μ μμ²΄μ ν¬κΈ°κ°€ λ‹¤λ¥΄λ”λΌλ„ κ·Έ λ³€μμ μ‹μ‘ μ£Όμ† κ°’ ν¬κΈ°λ” λ¨λ‘ κ°™μμ„ μ• μ μλ‹¤.

### ν¬μΈν„°μ λ€μ… κ·μΉ™

ν¬μΈν„°μ λ€μ… μ—°μ‚°μ€ λ‹¤μ κ·μΉ™μ— λ”°λΌ μ ν•μ μΌλ΅ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

1. ν¬μΈν„°λ” κ°€λ¦¬ν‚¤λ” λ³€μμ ν•νƒκ°€ κ°™μ„ λ•λ§ λ€μ…ν•΄μ•Ό ν•λ‹¤.

  - κ°€λ¦¬ν‚¤λ” μλ£ν•μ΄ μΌμΉν•μ§€ μ•λ” ν¬μΈν„°μ λ€μ…μ„ μ‹λ„ν•λ©΄, μ—λ¬λ” λ°μƒν•μ§€ μ•μ§€λ§ λ²„κ·Έκ°€ λ°μƒν•λ‹¤.

  - λ‹¤μ κ·Έλ¦Όκ³Ό κ°™μ΄, κ°’μ΄ μ‹¤μ λ΅λ” 4λ°”μ΄νΈμ κ³µκ°„λ§ μ°¨μ§€ν•κ³  μμμ—λ„ λ¶κµ¬ν•κ³  μ»΄νμΌλ¬κ°€ `double`ν• λ³€μλ΅ μƒκ°ν•κΈ° λ•λ¬Έμ— 8λ°”μ΄νΈκΉμ§€ μ½κ³  μ‹¤μ κ°’μΌλ΅ ν•΄μ„ν•΄λ²„λ ¤μ„ μ• μ μ—†λ” κ²°κ³Όλ¥Ό μ¶λ ¥ν•κ² λλ‹¤.

    <img src="../images/img11.png" alt="ν¬μΈν„°μ λ€μ… κ·μΉ™" width=400 />

2. ν• λ³€ν™μ„ μ‚¬μ©ν• ν¬μΈν„°μ λ€μ…μ€ μ–Έμ λ‚ κ°€λ¥ν•λ‹¤.

- ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” μλ£ν•μ΄ λ‹¤λ¥Έ κ²½μ°λΌλ„, ν• λ³€ν™ μ—°μ‚°μλ¥Ό μ‚¬μ©ν•μ—¬ λ€μ…ν•λ©΄ κ²½κ³  λ©”μ‹μ§€λ¥Ό μ—†μ•¨ μλ” μλ‹¤. λ‹¤λ§ μ΄ κ²½μ°μ—λ„ λ€μ…ν• ν›„μ— ν¬μΈν„°λ¥Ό ν†µν•΄ μ΄μ©ν•λ” κ²ƒμ— λ¬Έμ κ°€ μ—†μ–΄μ•Ό ν•λ‹¤. κ·Έλ¬κΈ° μ„ν•΄μ„  λ°μ΄ν„°κ°€ λ©”λ¨λ¦¬μ— μ €μ¥λλ” λ°©μ‹μ„ μ μ΄ν•΄ν•κ³  μμ–΄μ•Ό ν•λ‹¤.

### ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” μ΄μ 

> ν¬μΈν„°μ μ£Όμ” κΈ°λ¥ μ¤‘ ν•λ‚λ” ν•¨μ κ°„μ— ν¨κ³Όμ μΌλ΅ λ°μ΄ν„°λ¥Ό κ³µμ ν•λ” κ²ƒμ΄λ‹¤.

1. μ„λ² λ””λ“ ν”„λ΅κ·Έλλ°μ„ ν•  λ• λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•λ” κ²½μ°

2. **λ™μ  ν• λ‹Ήν• λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•λ” κ²½μ°**